%! Author = matt_dumont
%! Date = 3/5/25

% Preamble
\documentclass[11pt]{article}

% Packages
\usepackage{xcolor}
\usepackage[skins, most, many, listings]{tcolorbox}
\usepackage{biblatex}

\addbibresource{own-bib.bib}


\newtcolorbox{breakawaybox}[1]{
    enhanced,colframe=black,colback=white,fonttitle=\bfseries,
    colbacktitle=gray, coltitle=black, title=#1, boxrule=0.5pt, arc=0pt,
    width=1.03\textwidth, breakable=true, segmentation style={solid, black, line width=0.5pt}
}


% Document
\begin{document}
    \nocite{*}
    \defbibfilter{peerreview}{%
        ( type=article or type=book or type=incollection or type=mvbook or type=inbook ) and ( keyword=show )
    }
    % WORKS fine
    \begin{breakawaybox}{Peer Review}
        \printbibliography
    \end{breakawaybox}

    % fails (Error:(28) Extra }, or forgotten \endgroup.\endtcb@savebox ...efalse \color@endgroup \egroup \expandafter \@iiiparbox \...l.28 \end{tcolorbox})
    \begin{breakawaybox}{Peer Review}
        \printbibliography[filter=peerreview]
    \end{breakawaybox}

    % fails(Error:(33) Extra }, or forgotten \endgroup.\endtcb@savebox ...efalse \color@endgroup \egroup \expandafter \@iiiparbox \...l.33 \end{tcolorbox})
    \begin{breakawaybox}{Peer Review}
        \printbibliography[heading=none, filter=peerreview]
    \end{breakawaybox}

    %
    \begin{breakawaybox}{Peer Review}
        \printbibliography[heading=none]
    \end{breakawaybox}

    % WORKS fine
    \printbibliography[heading=none, filter=peerreview]
\end{document}